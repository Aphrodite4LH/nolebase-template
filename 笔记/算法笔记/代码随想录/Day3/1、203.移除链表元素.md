# 203.移除链表元素
## 题目

### 题目链接
[203. 移除链表元素 - 力扣（LeetCode）](https://leetcode.cn/problems/remove-linked-list-elements/submissions/547887738/)

### 题目描述
给你一个链表的头节点 `head` 和一个整数 `val` ，请你删除链表中所有满足 `Node.val == val` 的节点，并返回 **新的头节点** 。

- 示例一
```text
输入：head = [1,2,6,3,4,5,6], val = 6
输出：[1,2,3,4,5]
```
![[../../../../images/Pasted image 20240719102814.png]]
- 示例二
```text
输入：head = [], val = 1
输出：[]
```
- 示例三
```text
输入：head = [7,7,7,7], val = 7
输出：[]
```



## 解答

```Cpp hl:20-21
class Solution {
   public:
    ListNode* removeElements(ListNode* head, int val) {
        if (head == nullptr) {
            return head;
        }
        ListNode* dummyHead = new ListNode(0, head);
        ListNode *current = head, *front = dummyHead;
        while (current != nullptr) {
            if (current->val == val) {
                front->next = current->next;
                delete current;
                current = front->next;
            }
            else {
                front   = front->next;
                current = current->next;
            }
        }
        // head可能被删除，不能直接返回
        // return head; 
        ListNode* result = dummyHead->next;
        delete dummyHead;
        return dummyHead->next;
    }
};
```

>[!tip] 复杂度
>时间复杂度为：$O(n)$
>
>空间复杂度为：$O(1)$


## 解析

使用**虚拟头节点**，使得删除链表第一个元素的操作能跟删除其它元素一样，达成操作上的统一

要删除单链表中的一个节点，就必须要通过某种方式取得其前一个节点。我的代码中采用了`front`指针，永远指向`current`的前一个节点

这种方法效率上比较低，总是要管理`current`与`front`两个指针。更快捷的做法是使用`cur->next`判断节点是否要删除，使用`temp`指针来执行删除，如下所示

```Cpp
class Solution {
public:
    ListNode* removeElements(ListNode* head, int val) {
        ListNode* dummyHead = new ListNode(0); // 设置一个虚拟头结点
        dummyHead->next = head; // 将虚拟头结点指向head，这样方便后面做删除操作
        ListNode* cur = dummyHead;
        while (cur->next != NULL) {
            if(cur->next->val == val) {
                ListNode* tmp = cur->next;
                cur->next = cur->next->next;
                delete tmp;
            } else {
                cur = cur->next;
            }
        }
        head = dummyHead->next;
        delete dummyHead;
        return head;
    }
};
```

