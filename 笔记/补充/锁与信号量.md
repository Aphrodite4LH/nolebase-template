# 锁与信号量

## 锁与信号量的主要差异

1. **设计目标**：
    
    - 锁：主要用于互斥访问，确保同一时间只有一个进程或线程访问共享资源。
    - 信号量：用于更广泛的同步需求，包括互斥访问和计数控制。
2. **状态值**：
    
    - 锁：状态值通常为二进制（锁定和解锁）。
    - 信号量：计数信号量的值可以是任意整数，二进制信号量的值只能是0或1。
3. **复杂性**：
    
    - 锁：相对简单，适用于基本的互斥需求。
    - 信号量：更复杂，适用于更复杂的同步场景。

## 选择使用锁或信号量的依据

1. **简单互斥**：对于简单的互斥需求，互斥锁是更好的选择，因其语义明确且实现简单。
2. **资源计数**：对于需要管理多个资源的场景，计数信号量更合适。
3. **复杂同步**：对于复杂的同步问题，如生产者-消费者、读者-写者问题，信号量提供了更强大的工具。