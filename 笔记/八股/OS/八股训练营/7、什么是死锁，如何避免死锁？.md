# 7、什么是死锁，如何避免死锁？

死锁是系统中两个或多个进程在执行过程中，因**争夺资源而造成的一种僵局**。当每个进程都持有一定的资源并等待其他进程释放它们所需的资源时，如果这些资源都被其他进程占有且不释放，就导致了死锁。

死锁只有同时满足以下四个条件才会发生：
- 互斥条件：一个进程占用了某个资源时，其他进程无法同时占用该资源。
- 请求保持条件：一个进程**因为请求资源而阻塞的时候，不会释放自己的资源**。
- 不可剥夺条件：资源不能被强制性地从一个进程中剥夺，只能由持有者自愿释放。
- 循环等待条件：多个进程之间形成一个循环等待资源的链，每个进程都在等待下一个进程所占有的资源。

避免死锁：**通过破坏死锁的四个必要条件之一来预防死锁。** 
检测死锁：通过检测系统中的资源分配情况来判断是否存在死锁。例如，可以使用资源分配图或**银行家算法**进行检测。 
解除死锁：一旦检测到死锁存在，可以采取一些措施来解除死锁。例如，可以通过抢占资源、终止某些进程或进行资源回收等方式来解除死锁。